{"version":3,"sources":["../../src/shared/map-component/navigation/navigation.module.ts","../../src/shared/map-component/navigation/navigation.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Navigation } from './navigation';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Navigation,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(Navigation),\r\n  ],\r\n  exports: [\r\n    Navigation\r\n  ]\r\n})\r\nexport class NavigationModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/map-component/navigation/navigation.module.ts","import {Component, ViewChild, ElementRef} from \"@angular/core\";\r\nimport {IonicPage, NavParams, ViewController} from \"ionic-angular\";\r\nimport {NativeService} from \"../../../providers/NativeService\";\r\ndeclare var AMap;\r\n/**\r\n * Generated class for the Navigation page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-navigation',\r\n  templateUrl: 'navigation.html',\r\n})\r\nexport class Navigation {\r\n\r\n  @ViewChild('panel') panel: ElementRef;\r\n  navigationType:number;\r\n  navigationIsReady: boolean = false;\r\n  map;\r\n  startPoint;\r\n  endPoint;\r\n\r\n  constructor(private viewCtrl: ViewController,\r\n              private nativeService: NativeService,\r\n              private navParams: NavParams) {\r\n    this.navigationType = this.navParams.get(\"navigationType\");\r\n    this.endPoint = this.navParams.get(\"markerLocation\");\r\n    this.map = window['HomeAMap'];\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    let type = this.navigationType, options = {city: '广州市', panel: this.panel.nativeElement, map: this.map};\r\n    if (type === 1) {\r\n      AMap.service('AMap.Driving', () => {\r\n        this.navigationIsReady = true;\r\n        this.doSearch(type, new AMap.Driving(options));\r\n      });\r\n    } else if (type === 2) {\r\n      AMap.service('AMap.Transfer', () => {\r\n        this.doSearch(type, new AMap.Transfer(options));\r\n      });\r\n    } else if (type === 3) {\r\n      AMap.service('AMap.Walking', () => {\r\n        this.doSearch(type, new AMap.Walking(options));\r\n      });\r\n    }\r\n  }\r\n\r\n  doSearch(navigationType, navigationService) {\r\n    this.nativeService.getUserLocation().subscribe(location => {\r\n      this.map.clearMap();\r\n      this.startPoint = location;\r\n      navigationService.search([this.startPoint.lng, this.startPoint.lat], [this.endPoint.lng, this.endPoint.lat], (status, result) => {\r\n\r\n      });\r\n    });\r\n  }\r\n\r\n  doNavigation(type) {// 0实时导航,1模拟导航\r\n    this.nativeService.navigation(this.startPoint, this.endPoint, type).subscribe(message => {\r\n      debugger;\r\n    });\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/map-component/navigation/navigation.ts"],"sourceRoot":""}